" Be sure vim-plug is installed.
if ! filereadable(expand('~/.vim/autoload/plug.vim'))
  echo "Installing vim-plug"
  silent !mkdir -p ~/.vim/autoload/
  silent !curl "https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim" > ~/.vim/autoload/plug.vim
endif

call plug#begin('~/.vim/plugged')

" Git Notifications in Number Buffer
Plug 'https://github.com/airblade/vim-gitgutter'

" Fuzzy File Finder
Plug 'https://github.com/junegunn/fzf.vim'
Plug 'https://github.com/junegunn/fzf'

" Easy Commenting in and out
Plug 'https://github.com/tpope/vim-commentary'

" Automatically insert common characters
Plug 'https://github.com/jiangmiao/auto-pairs'

" Autocomplete Engine
if $VIM_YCM == 'true'
  Plug 'Valloric/YouCompleteMe', { 'on': [] }
endif

" File Tree
Plug 'https://github.com/scrooloose/nerdtree', { 'on': 'NERDTreeToggle' }

" Change working dir to project root
Plug 'https://github.com/airblade/vim-rooter'

" Color Scheme
Plug 'https://github.com/nanotech/jellybeans.vim'

" Highlight same words in document
Plug 'https://github.com/pboettch/vim-highlight-cursor-words'

" Common syntax highlighting
Plug 'https://github.com/sheerun/vim-polyglot'

" Distraction Free Writing
Plug 'https://github.com/junegunn/goyo.vim'

" Plugin Total: 13
call plug#end()

" Enable YouCompleteMe only when told and on insert mode.
if $VIM_YCM == 'true'
  augroup load_us_ycm
    autocmd!
    autocmd InsertEnter * call plug#load('YouCompleteMe')
          \| autocmd! load_us_ycm
  augroup END
endif

" Source all files in startup
filetype plugin on
if isdirectory($HOME . "/i3wm")
  for f in split(glob('~/i3wm/vim/startup/*.vim'), '\n')
    exe 'source' f
  endfor

  " Source highlight settings last
  exe 'source ~/i3wm/vim/startup/highlight.vim'
endif
