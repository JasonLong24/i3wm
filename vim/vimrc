" Be sure vim-plug is installed.
if ! filereadable(expand('~/.vim/autoload/plug.vim'))
  echo "Installing vim-plug"
  silent !mkdir -p ~/.vim/autoload/
  silent !curl "https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim" > ~/.vim/autoload/plug.vim
endif

" Grab some environment variables from zsh
let vim_lite=system("source ~/.zshrc && echo $_i3wm[vim_lite]")

call plug#begin('~/.vim/plugged')

" Fuzzy File Finder
Plug 'https://github.com/junegunn/fzf.vim'
Plug 'https://github.com/junegunn/fzf'

" Automatically insert common characters
Plug 'https://github.com/jiangmiao/auto-pairs'

" Color Scheme
Plug 'https://github.com/jsnal/vim-serape'

" Easy Commenting in and out
Plug 'https://github.com/tomtom/tcomment_vim'

if (!vim_lite)
  " Common syntax highlighting
  Plug 'https://github.com/sheerun/vim-polyglot'

  " Easier way of visualizing indention
  Plug 'https://github.com/Yggdroot/indentLine'

  " File Tree
  Plug 'https://github.com/scrooloose/nerdtree', { 'on': 'NERDTreeToggle' }

  " Autocompletion that calls the LanguageClient
  Plug 'https://github.com/lifepillar/vim-mucomplete'

  " Language Server Protocol support for vim
  Plug 'https://github.com/autozimu/LanguageClient-neovim', {
        \ 'branch': 'next',
        \ 'do': 'bash install.sh'
        \ }
endif

" Plugin Total: 11
call plug#end()

" Source all files in startup
filetype plugin on
if isdirectory($HOME . "/i3wm")
  for f in split(glob('~/i3wm/vim/startup/*.vim'), '\n')
    exe 'source' f
  endfor

  " Source highlight settings last
  exe 'source ~/i3wm/vim/startup/highlight.vim'
endif
